before_script:
    - chmod +x gradlew

build:
  stage: build
  script:
    - ./gradlew build

ltlcross-ltl2ldba:
  stage: test
  script:
    - ./gradlew distTar
    - tar xvf build/distributions/translations-0.0.4.tar
    - ltlcross --stop-on-error --timeout=300 -F "formulas/check.ltl" '{spot} ltl2tgba -H -f %f >%O' '{ltl2ldba} translations-0.0.4/bin/ltl2ldba %f >%O'

ltlcross-ltl2parity:
  stage: test
  script:
    - ./gradlew distTar
    - tar xvf build/distributions/translations-0.0.4.tar
    - ltlcross --stop-on-error --timeout=300 -F "formulas/check.ltl" '{spot} ltl2tgba -H -f %f >%O' '{ltl2parity} translations-0.0.4/bin/ltl2parity %f >%O'